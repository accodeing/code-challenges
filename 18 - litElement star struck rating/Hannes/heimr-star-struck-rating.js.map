{"version":3,"file":"heimr-star-struck-rating.js","sources":["src/heimr-star-struck-rating.js"],"sourcesContent":["import { LitElement, html } from \"lit-element\";\n\nclass LitElementStarStruckRating extends LitElement {\n  constructor() {\n    super();\n    this.stars = this.getAttribute(\"stars\");\n    this.rating = this.getAttribute(\"rating\") || 0;\n  }\n\n  static get properties() {\n    return {\n      stars: { type: Number },\n      rating: { type: Number },\n    };\n  }\n\n  set rating(val) {\n    this.old_value = this._rating;\n    let new_value = Math.min(this.stars, parseInt(val) || 0);\n    const change = new_value - this.rating;\n\n    if (change === 0 && new_value === 1) {\n      new_value = 0;\n    }\n\n    this._rating = new_value;\n    this.requestUpdate(\"rating\", old_value);\n  }\n\n  set stars(val) {\n    this.old_value = this._stars;\n    this._stars = parseInt(val) || 5;\n    this.rating(Math.min(this._rating, this._stars));\n    this.requestUpdate(\"stars\", old_value);\n  }\n}\n\nwindow.customElements.define(\n  \"lit-heimr-star-struck\",\n  LitElementStarStruckRating,\n);\n"],"names":[],"mappings":";;AAEA,MAAM,0BAA2B,SAAQ,UAAU;IACjD;QACE,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;QACxC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;KAChD;IAED,WAAW,UAAU;QACnB,OAAO;YACL,KAAK,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE;YACvB,MAAM,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE;SACzB,CAAC;KACH;IAED,IAAI,MAAM,CAAC,GAAG;QACZ,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC;QAC9B,IAAI,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;QACzD,MAAM,MAAM,GAAG,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC;QAEvC,IAAI,MAAM,KAAK,CAAC,IAAI,SAAS,KAAK,CAAC,EAAE;YACnC,SAAS,GAAG,CAAC,CAAC;SACf;QAED,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC;QACzB,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;KACzC;IAED,IAAI,KAAK,CAAC,GAAG;QACX,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC;QAC7B,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACjC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;QACjD,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;KACxC;CACF;AAED,MAAM,CAAC,cAAc,CAAC,MAAM,CAC1B,uBAAuB,EACvB,0BAA0B,CAC3B,CAAC"}